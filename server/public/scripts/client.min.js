var myApp=angular.module("myApp",[]);myApp.controller("SendMessage",["$scope","DataService",function(a,b){var c=b;a.message={name:"",text:""},a.messageArray=c.messageArray,a.addMessage=c.addMessage}]),myApp.controller("ShowMessages",["$scope","DataService",function(a,b){a.messageObject=b.messageObject,a.getData=b.getData}]),myApp.factory("DataService",["$http",function(a){function b(){a.get("/messages").then(function(a){console.log("Object back from db: ",a)})}function c(c){a.post("/messages",c).then(function(a){d.response=a}),b()}var d={messages:[]};return messageArray=[],{messageObject:d,addMessage:function(a){console.log(a);var b=angular.copy(a);messageArray.push(b),console.log(messageArray),c(messageArray)},messageArray:messageArray,getData:b,postData:c}}]);